<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Samyama</title>
    <style>
        /* This CSS is written to be impossible to break */
        body { background-color: #2d0b5a; color: white; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
        .page { display: none; }
        .visible { display: block; }
        
        .main-button { 
            background: white; color: #2d0b5a; border: none; 
            padding: 20px; width: 100%; max-width: 300px; 
            border-radius: 50px; font-weight: bold; font-size: 16px; 
            cursor: pointer; margin: 10px 0; 
        }
        
        .circle { 
            width: 200px; height: 200px; border: 10px solid white; 
            border-radius: 50%; margin: 50px auto; 
            display: flex; align-items: center; justify-content: center; 
            cursor: pointer;
        }

        /* Very simple animation */
        @keyframes breathe {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        .animating { animation: breathe 10s ease-in-out infinite; }
    </style>
</head>
<body>

    <div id="p1" class="page visible">
        <h1 style="letter-spacing: 5px; margin-top: 100px;">SAMYAMA</h1>
        <p style="opacity: 0.7; margin-bottom: 50px;">STILLNESS IN MOTION</p>
        <button class="main-button" onclick="showPage('p2')">START PRANAYAMA</button>
    </div>

    <div id="p2" class="page">
        <h2>SELECT MODE</h2>
        <button class="main-button" onclick="startPractice('Deep Breathing')">Deep Breathing</button><br>
        <button class="main-button" onclick="startPractice('Box Breathing')">Box Breathing</button><br>
        <button class="main-button" onclick="startPractice('Ujjayi')">Ujjayi (Oceanic)</button><br>
        <p onclick="showPage('p1')" style="cursor:pointer; text-decoration: underline; margin-top: 20px;">Back</p>
    </div>

    <div id="p3" class="page">
        <h2 id="modeTitle">MODE</h2>
        <div id="ball" class="circle" onclick="runBreath()">
            <span id="ballText">TAP TO START</span>
        </div>
        <p id="counter">Cycles: 0</p>
        <button class="main-button" style="background:none; color:white; border:1px solid white;" onclick="location.reload()">EXIT</button>
    </div>

    <script>
        // NAVIGATION LOGIC
        function showPage(pageId) {
            // Hide all pages
            document.getElementById('p1').style.display = 'none';
            document.getElementById('p2').style.display = 'none';
            document.getElementById('p3').style.display = 'none';
            // Show the one we want
            document.getElementById(pageId).style.display = 'block';
        }

        // PRACTICE LOGIC
        let count = 0;
        let running = false;
        let timer = null;

        function startPractice(name) {
            document.getElementById('modeTitle').innerText = name;
            showPage('p3');
        }

        function runBreath() {
            const ball = document.getElementById('ball');
            const txt = document.getElementById('ballText');
            const cntDisplay = document.getElementById('counter');

            if (!running) {
                running = true;
                count = 0;
                ball.classList.add('animating');
                txt.innerText = "BREATHE";
                // Increment every 10 seconds
                timer = setInterval(function() {
                    count++;
                    cntDisplay.innerText = "Cycles: " + count;
                }, 10000);
            } else {
                running = false;
                clearInterval(timer);
                ball.classList.remove('animating');
                txt.innerText = "TAP TO START";
                alert("Session Finished!\nTotal Cycles: " + count);
            }
        }
    </script>

</body>
</html>
