<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Samyama - Breathing</title>
    <style>
        /* 1. THE LOOK: LEAFY GREEN GRADIENT & PURPLE */
        :root {
            --deep-leaf: #0a2f0a;
            --mid-leaf: #1b4d1b;
            --light-leaf: #a2ff00;
            --purple: #2d0b5a;
        }

        body, html { margin: 0; padding: 0; font-family: -apple-system, sans-serif; color: white; overflow: hidden; height: 100vh; }
        
        /* Navigation - Simple hiding/showing */
        .page { display: none; height: 100vh; width: 100vw; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .active { display: flex; }

        /* Backgrounds */
        #home-page { background: linear-gradient(to bottom, var(--purple), #b030b0); }
        #mode-page { background: var(--purple); }
        #breathe-page { background: linear-gradient(135deg, var(--deep-leaf) 0%, var(--mid-leaf) 40%, var(--light-leaf) 100%); }

        /* 2. THE BUTTONS */
        .btn {
            background: white; color: var(--purple); padding: 20px 40px; border-radius: 50px;
            text-transform: uppercase; letter-spacing: 2px; font-weight: bold; border: none;
            cursor: pointer; margin: 10px; min-width: 280px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .btn:active { transform: scale(0.98); }

        .speed-bar { display: flex; gap: 10px; margin-top: 20px; }
        .speed-btn {
            background: rgba(255,255,255,0.1); border: 1px solid white; color: white;
            padding: 10px 20px; border-radius: 10px; cursor: pointer; font-size: 14px;
        }
        .speed-btn.selected { background: white; color: var(--mid-leaf); font-weight: bold; }

        /* 3. THE BREATHING RING */
        .ring-container {
            width: 260px; height: 260px; border: 12px solid rgba(255,255,255,0.2);
            border-radius: 50%; margin: 40px auto;
            display: flex; align-items: center; justify-content: center;
            position: relative;
        }

        /* Animations */
        @keyframes smooth { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.4); } }
        @keyframes box { 
            0%, 25% { transform: scale(1); } 
            25%, 50% { transform: scale(1.4); } 
            50%, 75% { transform: scale(1.4); } 
            75%, 100% { transform: scale(1); } 
        }

        .anim-smooth { animation: smooth var(--dur, 8s) ease-in-out infinite; }
        .anim-box { animation: box var(--dur, 16s) linear infinite; }

        .counter { font-size: 60px; font-weight: 100; display: block; }
        .label { font-size: 10px; letter-spacing: 3px; opacity: 0.7; text-transform: uppercase; }
    </style>
</head>
<body>

    <div id="home-page" class="page active">
        <h1 style="letter-spacing: 12px; font-weight: 200;">SAMYAMA</h1>
        <p class="label" style="margin-bottom: 60px;">Stillness in Motion</p>
        <button class="btn" onclick="show('mode-page')">START PRANAYAMA</button>
    </div>

    <div id="mode-page" class="page">
        <h2 style="font-weight: 200; letter-spacing: 4px; margin-bottom: 30px;">SELECT PRACTICE</h2>
        <button class="btn" onclick="start('DEEP BREATHING', 'smooth')">Deep Breathing</button>
        <button class="btn" onclick="start('BOX BREATHING', 'box')">Box Breathing</button>
        <button class="btn" onclick="start('UJJAYI', 'smooth')">Ujjayi (Oceanic)</button>
        <p onclick="show('home-page')" style="cursor:pointer; opacity:0.5; margin-top:20px;">Back</p>
    </div>

    <div id="breathe-page" class="page">
        <h3 id="mode-title" style="font-weight: 200; letter-spacing: 4px; margin: 0;">PRACTICE</h3>
        
        <div id="ring" class="ring-container">
            <div>
                <span id="cycle-count" class="counter">0</span>
                <span class="label">Cycles</span>
            </div>
        </div>

        <div class="speed-bar">
            <button class="speed-btn" onclick="setSpeed(4, this)">4s</button>
            <button class="speed-btn" onclick="setSpeed(6, this)">6s</button>
            <button class="speed-btn selected" onclick="setSpeed(8, this)">8s</button>
            <button class="speed-btn" onclick="setSpeed(10, this)">10s</button>
        </div>

        <button class="btn" style="background:none; color:white; border:1px solid white; margin-top: 40px; width: 150px;" onclick="location.reload()">EXIT</button>
    </div>

    <script>
        let currentType = 'smooth';
        let currentSec = 8;
        let cycles = 0;
        let timer = null;

        function show(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function start(name, type) {
            currentType = type;
            document.getElementById('mode-title').innerText = name;
            show('breathe-page');
            updateAnimation();
        }

        function setSpeed(s, btn) {
            currentSec = s;
